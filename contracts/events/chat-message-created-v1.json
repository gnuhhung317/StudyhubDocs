{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://studyhub.com/events/chat-message-created-v1.json",
  "title": "ChatMessageCreated",
  "description": "Event published when a new chat message is created",
  "type": "object",
  "properties": {
    "messageId": {
      "type": "string",
      "format": "uuid",
      "description": "The unique identifier for the message."
    },
    "roomId": {
      "type": "string",
      "format": "uuid",
      "description": "The identifier of the room where the message was sent."
    },
    "senderId": {
      "type": "string",
      "description": "The ID of the user who sent the message."
    },
    "text": {
      "type": "string",
      "description": "The content of the message."
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "The ISO 8601 timestamp when the message was created."
    },
    "schemaVersion": {
      "type": "string",
      "const": "v1",
      "description": "The version of the event schema."
    }
  },
  "required": [
    "messageId",
    "roomId",
    "senderId",
    "text",
    "createdAt",
    "schemaVersion"
  ]
}
